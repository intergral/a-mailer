<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>jslibs Module: jslibs/a-mailer/lib/a-mailer</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.cerulean.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top navbar-inverse">
		<div class="navbar-inner">
			<a class="brand" href="index.html">jslibs</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="a-mailer.html">jslibs/a-mailer/lib/a-mailer</a>
						</li>
						
						<li>
							<a href="client.html">jslibs/a-mailer/lib/client</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="client-SMTPClient.html">SMTPClient</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
		<div class="span8">
			
				<div id="main">
					


	<h1 class="page-title">Module: jslibs/a-mailer/lib/a-mailer</h1>
<section>

<header>
    <h2>
    jslibs/a-mailer/lib/a-mailer
    </h2>
    
</header>

<article>
    <div class="container-overview">
    

    
        
            <div class="description">An easy to use module to send email messages via SMTP asynchronously.<br>
<br>
This module can be used in two modes:
<ul>
<li>As a <b>CommonJS module</b>: Include this module as a resource in your
Vert.x project by specifying
<code>var a_mailer = require('jslibs/a-mailer/lib/a-mailer');</code>
in your JavaScript file.</li>
<li>As a <b>runnable Vert.x module</b>: Deploy as a Vert.x module and send
your email messages on the event bus.</li>
</ul>
In both cases the module or a mailer object retrieved by the
<code>getMailer</code> method needs some configuration to work properly:
<ul>
<li><code>address</code> {string} Event bus address on which the module is
listening for send requests. Only required when the module is used as a
runnable Vert.x module.</li>
<li><code>host</code> {string} SMTP server host</li>
<li><code>port</code> {integer} SMTP server port</li>
<li><code>ssl</code> {boolean} If set to <code>true</code> uses an encrypted
connection to the server right from the start. Often combined with
<code>port</code> set to 465, e.g. in the case of Gmail. Default is
<code>false</code>.</li>
<li><code>auth</code> {boolean} Set to <code>true</code> if the server
requires authentication. Default is <code>false</code>.</li>
<li><code>username</code> {string} Authentication user.</li>
<li><code>password</code> {string} Authentication password.</li>
<li><code>content_type</code> {string} Default MIME type/subtype for the
email body; can be set to <code>text/html</code>. Every other or no value
will be interpreted as <code>text/plain</code>.</li>
</ul>

<b>NOTE on character encoding</b><br>
The email subject and body will always be encoded using UTF-8. If you use
the module from JavaScript and include non-US characters, make sure to
encode the source code file in UTF-8, too. Otherwise your email content
might get mangled.</div>
        

        
<dl class="details">
    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Matthias Ohlemeyer (mohlemeyer@gmail.com)</li>
        </ul>
    </dd>
    

    

    
    <dt class="tag-license">License:</dt>
    <dd class="tag-license"><ul class="dummy"><li>MIT

Copyright (c) 2013 Matthias Ohlemeyer</li></ul></dd>
    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="a-mailer.js.html">a-mailer.js</a>, <a href="a-mailer.js.html#sunlight-1-line-4">line 4</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="getMailer"><span class="type-signature">&lt;static> </span>getMailer<span class="signature">(configData)</span><span class="type-signature"> &rarr; {object}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Retrieve a new mailer object<br>
<br>
Returns an individually configured (host and authentication data) mailer
object, with method(s) to send email messages.<br>
Currently the object has a single <code>send</code> method (see the
documentation for the inner <code>send</code> method of this module; it is
attached to the retrieved mailer object).
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>configData</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">Configuration data as mentioned in the module
description, except for the <code>address</code> property.</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="a-mailer.js.html">a-mailer.js</a>, <a href="a-mailer.js.html#sunlight-1-line-84">line 84</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A new mailer object.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">object</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="send"><span class="type-signature">&lt;inner> </span>send<span class="signature">(sendData, <span class="optional">callback</span>)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Send an email.<br>
<br>
This function can be called as a method of a retrieved "mailer" object.
Configuration happens on retrieval via the <code>getMailer</code> method.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>
		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>sendData</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Send data object
                <h6>Properties</h6>
                

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>
		

		
		<th>Default</th>
		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>from</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Sender email address</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>to</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Single "TO" Recipient email address as a
string or an array of addresses</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>cc</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Single "CC" Recipient email address as a
string or an array of addresses</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>bcc</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Single "BCC" Recipient email address as
a string or an array of addresses</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>subject</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Email subject</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>body</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    ''
                
                </td>
            

            <td class="description last">Email body</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>content_type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">MIME type for this send request;
either <code>text/plain</code> or <code>text/html</code>. If otherwise
specified or not specified at all the configured MIME type for the module
will be used as the default value.</td>
        </tr>

	
	</tbody>
</table>

            </td>
        </tr>

	

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback function; called after the email is
sent or when an error occurs. The first argument is either an error object
or null if everything went ok. In case of success the second argument is
a result object with up to two properties:
<ul>
<li><code>response</code> The server's response message.</li>
<li><code>rcptFailedAdrs</code> Array of email addresses, which were rejected
by the server.</li>
</ul></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="a-mailer.js.html">a-mailer.js</a>, <a href="a-mailer.js.html#sunlight-1-line-138">line 138</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    

    

    
</article>

</section>




				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a>
		on Wed Oct 09 2013 20:11:49 GMT+0200 (MESZ) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<div class="span3">
				<div id="toc"></div>
			</div>
			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:true,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>